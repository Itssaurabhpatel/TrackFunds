{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./styles.css\";import{auth}from\"../../firebase\";import{useAuthState}from\"react-firebase-hooks/auth\";import{useNavigate}from\"react-router-dom\";import{signOut}from\"firebase/auth\";// Import signOut\nimport{toast}from\"react-toastify\";import userImg from\"../../assets/user.svg\";// Default image\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){const[user,loading]=useAuthState(auth);const navigate=useNavigate();const[imageSrc,setImageSrc]=useState(userImg);// Default image state\nuseEffect(()=>{if(user){// Set image source to user photoURL or default image\nsetImageSrc(user.photoURL||userImg);navigate(\"/dashboard\");}},[user,loading,navigate]);function logoutFnc(){signOut(auth).then(()=>{toast.success(\"Logged Out Successfully!\");navigate(\"/\");}).catch(error=>{toast.error(error.message);});}const handleError=()=>{setImageSrc(userImg);};return/*#__PURE__*/_jsxs(\"div\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"logo\",children:\"TrackFunds\"}),user&&/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",alignItems:\"center\",gap:\"0.5rem\"},children:[/*#__PURE__*/_jsx(\"img\",{src:imageSrc,alt:\"User Avatar\",onError:handleError// Handle image loading error\n,style:{borderRadius:\"50%\",height:\"2em\",width:\"2rem\"}}),/*#__PURE__*/_jsx(\"p\",{className:\"logo link\",onClick:logoutFnc,children:\"Log Out\"})]})]});}export default Header;","map":{"version":3,"names":["React","useEffect","useState","auth","useAuthState","useNavigate","signOut","toast","userImg","jsx","_jsx","jsxs","_jsxs","Header","user","loading","navigate","imageSrc","setImageSrc","photoURL","logoutFnc","then","success","catch","error","message","handleError","className","children","style","display","alignItems","gap","src","alt","onError","borderRadius","height","width","onClick"],"sources":["/workspaces/TrackFunds/src/components/Header/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./styles.css\";\r\nimport { auth } from \"../../firebase\";\r\nimport { useAuthState } from \"react-firebase-hooks/auth\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { signOut } from \"firebase/auth\"; // Import signOut\r\nimport { toast } from \"react-toastify\";\r\nimport userImg from \"../../assets/user.svg\"; // Default image\r\n\r\nfunction Header() {\r\n  const [user, loading] = useAuthState(auth);\r\n  const navigate = useNavigate();\r\n  const [imageSrc, setImageSrc] = useState(userImg); // Default image state\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      // Set image source to user photoURL or default image\r\n      setImageSrc(user.photoURL || userImg);\r\n      navigate(\"/dashboard\");\r\n    }\r\n  }, [user, loading, navigate]);\r\n\r\n  function logoutFnc() {\r\n    signOut(auth)\r\n      .then(() => {\r\n        toast.success(\"Logged Out Successfully!\");\r\n        navigate(\"/\");\r\n      })\r\n      .catch((error) => {\r\n        toast.error(error.message);\r\n      });\r\n  }\r\n\r\n  const handleError = () => {\r\n    setImageSrc(userImg); \r\n  };\r\n\r\n  return (\r\n    <div className=\"navbar\">\r\n      <p className=\"logo\">TrackFunds</p>\r\n      {user && (\r\n        <div style={{ display: \"flex\", alignItems: \"center\", gap: \"0.5rem\" }}>\r\n          <img\r\n            src={imageSrc}\r\n            alt=\"User Avatar\"\r\n            onError={handleError} // Handle image loading error\r\n            style={{ borderRadius: \"50%\", height: \"2em\", width: \"2rem\" }}\r\n          />\r\n          <p className=\"logo link\" onClick={logoutFnc}>\r\n            Log Out\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,cAAc,CACrB,OAASC,IAAI,KAAQ,gBAAgB,CACrC,OAASC,YAAY,KAAQ,2BAA2B,CACxD,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,OAAO,KAAQ,eAAe,CAAE;AACzC,OAASC,KAAK,KAAQ,gBAAgB,CACtC,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAAE;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7C,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGX,YAAY,CAACD,IAAI,CAAC,CAC1C,KAAM,CAAAa,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACY,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAACM,OAAO,CAAC,CAAE;AAEnDP,SAAS,CAAC,IAAM,CACd,GAAIa,IAAI,CAAE,CACR;AACAI,WAAW,CAACJ,IAAI,CAACK,QAAQ,EAAIX,OAAO,CAAC,CACrCQ,QAAQ,CAAC,YAAY,CAAC,CACxB,CACF,CAAC,CAAE,CAACF,IAAI,CAAEC,OAAO,CAAEC,QAAQ,CAAC,CAAC,CAE7B,QAAS,CAAAI,SAASA,CAAA,CAAG,CACnBd,OAAO,CAACH,IAAI,CAAC,CACVkB,IAAI,CAAC,IAAM,CACVd,KAAK,CAACe,OAAO,CAAC,0BAA0B,CAAC,CACzCN,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,CAAC,CACDO,KAAK,CAAEC,KAAK,EAAK,CAChBjB,KAAK,CAACiB,KAAK,CAACA,KAAK,CAACC,OAAO,CAAC,CAC5B,CAAC,CAAC,CACN,CAEA,KAAM,CAAAC,WAAW,CAAGA,CAAA,GAAM,CACxBR,WAAW,CAACV,OAAO,CAAC,CACtB,CAAC,CAED,mBACEI,KAAA,QAAKe,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACrBlB,IAAA,MAAGiB,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,YAAU,CAAG,CAAC,CACjCd,IAAI,eACHF,KAAA,QAAKiB,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,QAAQ,CAAEC,GAAG,CAAE,QAAS,CAAE,CAAAJ,QAAA,eACnElB,IAAA,QACEuB,GAAG,CAAEhB,QAAS,CACdiB,GAAG,CAAC,aAAa,CACjBC,OAAO,CAAET,WAAa;AAAA,CACtBG,KAAK,CAAE,CAAEO,YAAY,CAAE,KAAK,CAAEC,MAAM,CAAE,KAAK,CAAEC,KAAK,CAAE,MAAO,CAAE,CAC9D,CAAC,cACF5B,IAAA,MAAGiB,SAAS,CAAC,WAAW,CAACY,OAAO,CAAEnB,SAAU,CAAAQ,QAAA,CAAC,SAE7C,CAAG,CAAC,EACD,CACN,EACE,CAAC,CAEV,CAEA,cAAe,CAAAf,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}